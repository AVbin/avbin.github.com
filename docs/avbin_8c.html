<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AVbin: src/avbin.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="avbin-logo-small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">AVbin
   &#160;<span id="projectnumber">Version 10</span>
   </div>
   <div id="projectbrief">Cross-platform audio/video media decoding library with long-term ABI support.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">avbin.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdarg.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="avbin_8h_source.html">avbin.h</a>&gt;</code><br/>
<code>#include &lt;libavformat/avformat.h&gt;</code><br/>
<code>#include &lt;libavcodec/avcodec.h&gt;</code><br/>
<code>#include &lt;libavutil/avutil.h&gt;</code><br/>
<code>#include &lt;libavutil/dict.h&gt;</code><br/>
<code>#include &lt;libavutil/mathematics.h&gt;</code><br/>
<code>#include &lt;libswscale/swscale.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for avbin.c:</div>
<div class="dyncontent">
<div class="center"><img src="avbin_8c__incl.png" border="0" usemap="#src_2avbin_8c" alt=""/></div>
<map name="src_2avbin_8c" id="src_2avbin_8c">
<area shape="rect" href="avbin_8h.html" title="avbin.h" alt="" coords="304,84,379,111"/></map>
</div>
</div>
<p><a href="avbin_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___a_vbin_file.html">_AVbinFile</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___a_vbin_stream.html">_AVbinStream</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a39df7fcd9338d451cac90e7ccfc7ca86"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a39df7fcd9338d451cac90e7ccfc7ca86">avbin_get_version</a> ()</td></tr>
<tr class="separator:a39df7fcd9338d451cac90e7ccfc7ca86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a64538518d83d2361807decc36d12cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#a1e57ff57af723f0909148eb0176229ea">AVbinInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a3a64538518d83d2361807decc36d12cb">avbin_get_info</a> ()</td></tr>
<tr class="separator:a3a64538518d83d2361807decc36d12cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63fe23ebc7a8aa6bec6bc6da26d1326"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#ae63fe23ebc7a8aa6bec6bc6da26d1326">avbin_get_ffmpeg_revision</a> ()</td></tr>
<tr class="separator:ae63fe23ebc7a8aa6bec6bc6da26d1326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3269ce908a44c23a41d0fe34f1a9ee6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#af3269ce908a44c23a41d0fe34f1a9ee6">avbin_get_audio_buffer_size</a> ()</td></tr>
<tr class="separator:af3269ce908a44c23a41d0fe34f1a9ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9717ddf238680427f5f0277f20195f7b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a9717ddf238680427f5f0277f20195f7b">avbin_have_feature</a> (const char *feature)</td></tr>
<tr class="separator:a9717ddf238680427f5f0277f20195f7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215cd493f4c9e1c2abeabbe8057db028"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a215cd493f4c9e1c2abeabbe8057db028">avbin_init</a> ()</td></tr>
<tr class="separator:a215cd493f4c9e1c2abeabbe8057db028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663b0af361d9e7d6d0d2ab55a92949cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a663b0af361d9e7d6d0d2ab55a92949cd">avbin_init_options</a> (<a class="el" href="avbin_8h.html#ac6e57739a520eb542b3113318e204bac">AVbinOptions</a> *options_ptr)</td></tr>
<tr class="separator:a663b0af361d9e7d6d0d2ab55a92949cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a17faedb1cf250d2dbaf5c858cdcfd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#af5a17faedb1cf250d2dbaf5c858cdcfd">avbin_set_log_level</a> (<a class="el" href="avbin_8h.html#a892290e359cb64e386faddbc3670fd5e">AVbinLogLevel</a> level)</td></tr>
<tr class="separator:af5a17faedb1cf250d2dbaf5c858cdcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e6571875a7b39cdc7fcc32e8fa879a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a26e6571875a7b39cdc7fcc32e8fa879a">avbin_set_log_callback</a> (<a class="el" href="avbin_8h.html#a5a57b7e3fcc57923062d04d1f0f0a717">AVbinLogCallback</a> callback)</td></tr>
<tr class="separator:a26e6571875a7b39cdc7fcc32e8fa879a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a715a3e242d42011b43b4552d8357bc3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a715a3e242d42011b43b4552d8357bc3e">avbin_open_filename</a> (const char *filename)</td></tr>
<tr class="separator:a715a3e242d42011b43b4552d8357bc3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84ecd73498aa1ccb577da89107df0ca4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a84ecd73498aa1ccb577da89107df0ca4">avbin_open_filename_with_format</a> (const char *filename, char *format)</td></tr>
<tr class="separator:a84ecd73498aa1ccb577da89107df0ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60fdad0d45c18d3ab1bd680489c4c971"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a60fdad0d45c18d3ab1bd680489c4c971">avbin_close_file</a> (<a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *file)</td></tr>
<tr class="separator:a60fdad0d45c18d3ab1bd680489c4c971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547a470f6ce07f43c3c4b4f491be33aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a547a470f6ce07f43c3c4b4f491be33aa">avbin_seek_file</a> (<a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *file, <a class="el" href="avbin_8h.html#a11a8bed735d1cbbf913ec245a5ee2918">AVbinTimestamp</a> timestamp)</td></tr>
<tr class="separator:a547a470f6ce07f43c3c4b4f491be33aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6f6ab4f71dcea1efb896aebf6c2637"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a9c6f6ab4f71dcea1efb896aebf6c2637">avbin_file_info</a> (<a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *file, <a class="el" href="avbin_8h.html#ae7e608087c307e5c88ad37f49004d6f0">AVbinFileInfo</a> *info)</td></tr>
<tr class="separator:a9c6f6ab4f71dcea1efb896aebf6c2637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6fdcb8eee06ee2f0b6c651e113de114"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#ad6fdcb8eee06ee2f0b6c651e113de114">avbin_stream_info</a> (<a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *file, int32_t stream_index, <a class="el" href="avbin_8h.html#ac054e98731e9e36bd00a2fc0997192a6">AVbinStreamInfo</a> *info)</td></tr>
<tr class="separator:ad6fdcb8eee06ee2f0b6c651e113de114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1e4c1702d27dc99e8f418c579bd9de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="avbin_8h.html#a63d4bd441ae62b5561ec58179a59e9ac">AVbinStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a1a1e4c1702d27dc99e8f418c579bd9de">avbin_open_stream</a> (<a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *file, int32_t index)</td></tr>
<tr class="separator:a1a1e4c1702d27dc99e8f418c579bd9de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa148cb4650cef9427f5e3f4719609e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#afa148cb4650cef9427f5e3f4719609e1">avbin_close_stream</a> (<a class="el" href="avbin_8h.html#a63d4bd441ae62b5561ec58179a59e9ac">AVbinStream</a> *stream)</td></tr>
<tr class="separator:afa148cb4650cef9427f5e3f4719609e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d499bac527c7a6bd1ff1602d12b0437"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#a4d499bac527c7a6bd1ff1602d12b0437">avbin_read</a> (<a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *file, <a class="el" href="avbin_8h.html#a05162a60b4ca1266729c969648797b74">AVbinPacket</a> *packet)</td></tr>
<tr class="separator:a4d499bac527c7a6bd1ff1602d12b0437"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1fe35df0643968513035768a9bcd20d"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#aa1fe35df0643968513035768a9bcd20d">avbin_decode_audio</a> (<a class="el" href="avbin_8h.html#a63d4bd441ae62b5561ec58179a59e9ac">AVbinStream</a> *stream, uint8_t *data_in, size_t size_in, uint8_t *data_out, int *size_out)</td></tr>
<tr class="separator:aa1fe35df0643968513035768a9bcd20d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf0aff52ef57436eb20570444298775e"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="avbin_8c.html#abf0aff52ef57436eb20570444298775e">avbin_decode_video</a> (<a class="el" href="avbin_8h.html#a63d4bd441ae62b5561ec58179a59e9ac">AVbinStream</a> *stream, uint8_t *data_in, size_t size_in, uint8_t *data_out)</td></tr>
<tr class="separator:abf0aff52ef57436eb20570444298775e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a60fdad0d45c18d3ab1bd680489c4c971"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void avbin_close_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close a media file. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00203">203</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="afa148cb4650cef9427f5e3f4719609e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void avbin_close_stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a63d4bd441ae62b5561ec58179a59e9ac">AVbinStream</a> *&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close a file stream. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00392">392</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa1fe35df0643968513035768a9bcd20d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t avbin_decode_audio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a63d4bd441ae62b5561ec58179a59e9ac">AVbinStream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>size_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decode some audio data.</p>
<p>You must ensure that data_out is at least as big as the minimum audio buffer size (see <a class="el" href="avbin_8h.html#af3269ce908a44c23a41d0fe34f1a9ee6">avbin_get_audio_buffer_size()</a>).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream to decode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_in</td><td>Incoming data, as read from a packet </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size_in</td><td>Size of data_in, in bytes </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data_out</td><td>Decoded audio data buffer, provided by application </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">size_out</td><td>Number of bytes of data_out used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes of data_in actually used. You should call this function repeatedly as long as the return value is greater than 0.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if there was an error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00423">423</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="abf0aff52ef57436eb20570444298775e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t avbin_decode_video </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a63d4bd441ae62b5561ec58179a59e9ac">AVbinStream</a> *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decode a video frame image.</p>
<p>The size of data_out must be large enough to hold the entire image. This is width * height * 3 (images are always in 8-bit RGB format).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stream</td><td>The stream to decode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_in</td><td>Incoming data, as read from a packet </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size_in</td><td>Size of data_in, in bytes </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data_out</td><td>Decoded image data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes of data_in actually used. Any remaining bytes can be discarded.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>if there was an error </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00464">464</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9c6f6ab4f71dcea1efb896aebf6c2637"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a> avbin_file_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#ae7e608087c307e5c88ad37f49004d6f0">AVbinFileInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get information about the opened file.</p>
<p>The info struct must be allocated by the application and have its structure_size member filled in correctly. On return, the structure will be filled with file details. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00235">235</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="af3269ce908a44c23a41d0fe34f1a9ee6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t avbin_get_audio_buffer_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the minimum audio buffer size, in bytes. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00104">104</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae63fe23ebc7a8aa6bec6bc6da26d1326"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t avbin_get_ffmpeg_revision </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the SVN revision of FFmpeg.</p>
<p>This is built into AVbin as it is built.</p>
<p>DEPRECATED: Use avbin_get_libav_commit or avbin_get_libav_version instead. This always returns 0 now that we use Libav from Git. This function will be removed in AVbin 12. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00099">99</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3a64538518d83d2361807decc36d12cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#a1e57ff57af723f0909148eb0176229ea">AVbinInfo</a>* avbin_get_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get information about the linked version of AVbin.</p>
<p>See the AVbinInfo definition. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00082">82</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a39df7fcd9338d451cac90e7ccfc7ca86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t avbin_get_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the linked version of AVbin.</p>
<p>Version numbers are always integer, there are no "minor" or "patch" revisions. All AVbin versions are backward and forward compatible, modulo the required feature set. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00077">77</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9717ddf238680427f5f0277f20195f7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t avbin_have_feature </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>feature</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determine if AVbin includes a requested feature.</p>
<p>When future versions of AVbin include more functionality, that functionality can be tested for by calling this function. The following features can be tested for:</p>
<ul>
<li>"frame_rate" // AVbinStreamInfo8</li>
<li>"options" // <a class="el" href="avbin_8h.html#a1ca2c5f72b156635e342063faf638b06">avbin_init_options()</a>, AVbinOptions (multi-threading)</li>
<li>"info" // <a class="el" href="avbin_8h.html#a3a64538518d83d2361807decc36d12cb">avbin_get_info()</a>, AVbinInfo</li>
</ul>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>The feature is present </td></tr>
    <tr><td class="paramname">0</td><td>The feature is not present </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00109">109</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a215cd493f4c9e1c2abeabbe8057db028"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a> avbin_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>One of the avbin_init* functions must be called before opening a file to initialize AVbin. Check the return value for success before continuing. Initialize AVbin with basic features. Consider instead <a class="el" href="avbin_8h.html#a1ca2c5f72b156635e342063faf638b06">avbin_init_options()</a> </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00120">120</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a663b0af361d9e7d6d0d2ab55a92949cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a> avbin_init_options </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#ac6e57739a520eb542b3113318e204bac">AVbinOptions</a> *&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize AVbin with options.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>If NULL, use defaults. Otherwise create and populate an instance of AVbinOptions to supply. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00125">125</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a715a3e242d42011b43b4552d8357bc3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a>* avbin_open_filename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a media file given its filename.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if the file could not be opened, or is not of a recognised file format. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00180">180</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a84ecd73498aa1ccb577da89107df0ca4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a>* avbin_open_filename_with_format </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00182">182</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1a1e4c1702d27dc99e8f418c579bd9de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#a63d4bd441ae62b5561ec58179a59e9ac">AVbinStream</a>* avbin_open_stream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>stream_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a stream for decoding.</p>
<p>If you intend to decode audio or video from a file, you must open the stream first. The returned opaque handle should be passed to the relevant decode function when a packet for that stream is read. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00362">362</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4d499bac527c7a6bd1ff1602d12b0437"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t avbin_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a05162a60b4ca1266729c969648797b74">AVbinPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a packet from the file.</p>
<p>The packet struct must be allocated by the application and have its structure_size member filled in correctly. On return, the structure will be filled with a packet of data. The actual data pointer within the packet must not be freed, and is valid until the next call to avbin_read.</p>
<p>Applications should examine the packet's stream index to match it with an appropriate open stream handle, or discard it if none match. The packet data can then be passed to the relevant decode function. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00400">400</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a547a470f6ce07f43c3c4b4f491be33aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a> avbin_seek_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a11a8bed735d1cbbf913ec245a5ee2918">AVbinTimestamp</a>&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Seek to a timestamp within a file.</p>
<p>For video files, the first keyframe before the requested timestamp will be seeked to. For audio files, the first audio packet before the requested timestamp is used. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00215">215</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="a26e6571875a7b39cdc7fcc32e8fa879a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a> avbin_set_log_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a5a57b7e3fcc57923062d04d1f0f0a717">AVbinLogCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a custom log callback. By default, log messages are printed to standard error. Providing a NULL callback restores this default handler. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00165">165</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="af5a17faedb1cf250d2dbaf5c858cdcfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="avbin_8h.html#af7bddac6108190f6033d4aa43b3559f2">AVbinResult</a> avbin_set_log_level </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a892290e359cb64e386faddbc3670fd5e">AVbinLogLevel</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the log level verbosity. </p>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00159">159</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad6fdcb8eee06ee2f0b6c651e113de114"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t avbin_stream_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#a54736034fe64f8a11ac78a5be62be7cf">AVbinFile</a> *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>stream_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="avbin_8h.html#ac054e98731e9e36bd00a2fc0997192a6">AVbinStreamInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get information about a stream within the file.</p>
<p>The info struct must be allocated by the application and have its structure_size member filled in correctly. On return, the structure will be filled with stream details.</p>
<p>Ensure that stream_index is less than n_streams given in the file info.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>The file to examine </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stream_index</td><td>The number of the stream within the file </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">info</td><td>Returned stream information </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="avbin_8c_source.html#l00285">285</a> of file <a class="el" href="avbin_8c_source.html">avbin.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 23 2012 10:01:25 for AVbin by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
